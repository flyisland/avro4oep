<?xml version="1.0" encoding="UTF-8"?>
<wlevs:config xmlns:wlevs="http://www.bea.com/ns/wlevs/config/application">
  <processor>
    <name>add_area_from_cache</name>
    <rules>
      <query id="GetUserArea"><![CDATA[ 
 select rawChannel.userId as userId , rawChannel.pageId as pageId , urCache.regionId as areaId
 from rawChannel [now], urCache 
 where rawChannel.userId=urCache.userId]]></query>
    </rules>
  </processor>
  <channel>
    <name>clickChannel</name>
  </channel>
  <processor>
    <name>uvpvProcessor</name>
    <rules>
      <query id="uvpvSecond"><![CDATA[ 
select "uvpvSecond" as etype, pageId, areaId, count(*) as pv, count(distinct(userId)) as uv 
from clickChannel [RANGE 1 SECOND SLIDE 1 SECOND] 
group by pageId, areaId]]></query>
      <query id="uvpvMinute"><![CDATA[ 
select "uvpvMinute" as etype, pageId, areaId, count(*) as pv, count(distinct(userId)) as uv 
from clickChannel [RANGE 1 MINUTE SLIDE 1 SECOND] 
group by pageId, areaId]]></query>
      <query id="uvpv30Minute"><![CDATA[ 
select "uvpv30Minute" as etype, pageId, areaId, count(*) as pv, count(distinct(userId)) as uv 
from clickChannel [RANGE 30 MINUTE SLIDE 1 SECOND] 
group by pageId, areaId]]></query>
    </rules>
  </processor>
</wlevs:config>
